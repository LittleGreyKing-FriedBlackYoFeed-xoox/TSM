server:
  port: 8082

spring:
  application:
    name: tsm-user
  cloud:
    nacos:
      config:
        import-check:
          enabled: false
  
  # 数据库配置
  datasource:
    url: jdbc:mysql://47.109.155.118:3309/TSM?useUnicode=true&characterEncoding=utf8&serverTimezone=GMT%2B8&useSSL=false
    username: root
    password: Root@@__135230
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      maximum-pool-size: 20
      minimum-idle: 5
      connection-timeout: 60000
      idle-timeout: 600000
      max-lifetime: 1800000
  
  # Redis配置
  redis:
    host: 47.109.155.118
    port: 6379
    password: 
    database: 0
    timeout: 5000ms
    lettuce:
      pool:
        max-active: 8
        max-idle: 8
        min-idle: 0
        max-wait: -1ms
  
  # 暂时禁用Nacos配置
  # cloud:
  #   nacos:
  #     discovery:
  #       server-addr: 127.0.0.1:8848
  #       namespace: public
  #       group: DEFAULT_GROUP
  #     config:
  #       server-addr: 127.0.0.1:8848
  #       namespace: public
  #       group: DEFAULT_GROUP
  #       file-extension: yml

# MyBatis配置 - 暂时完全禁用
# mybatis-plus:
#   configuration:
#     # 开启驼峰命名转换
#     map-underscore-to-camel-case: true
#     # 开启二级缓存
#     cache-enabled: true
#     # 打印SQL语句
#     log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
#   global-config:
#     db-config:
#       # 主键类型
#       id-type: auto
#       # 逻辑删除字段
#       logic-delete-field: deleted
#       # 逻辑删除值
#       logic-delete-value: 1
#       logic-not-delete-value: 0
#   # mapper-locations: classpath*:/mapper/**/*.xml  # 暂时禁用mapper扫描

# 日志配置
logging:
  level:
    com.tsm.user: debug
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{50} - %msg%n"

# Feign配置
feign:
  client:
    config:
      default:
        connect-timeout: 5000
        read-timeout: 10000
        logger-level: basic
  compression:
    request:
      enabled: true
    response:
      enabled: true